<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.lineicons.com/5.0/lineicons.css" rel="stylesheet">
    <link rel="stylesheet" href="responsive.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
    <title>Document</title>
</head>
<body>
    

    <nav class="nav_main">

        <div class="nav_main1">
            <div><span>PERSOL</span></div>
            <img src="./images/icon_logo-removebg-preview.png" alt="">
            <div id="visitor-count">Visitors: <span id="count">Loading...</span></div>

        </div>
        

        

        
        <div class="nav_main2">

            <div class="nav_main2i">
                <a href="#" data-page="home">Home</a>
                <a href="#" data-page="lenses">Lenses</a>
                <a href="#" data-page="frames">Frames</a>
                <a href="#" data-page ="sunGlasses">Sun Glasses</a>
                <a href="#reach-us">Contact Us</a>
            </div>

        </div>

        <div class="hamburg-menu">
            <i class="lni lni-menu-hamburger-1"></i>
        </div>

        <div class="sidebar">
            <div class="sidebar-links">
                <a href="#" data-page="home">Home</a>
                <a href="#" data-page="lenses">Lenses</a>
                <a href="#" data-page="frames">Frames</a>
                <a href="#" data-page="sunGlasses">Sun Glasses</a>
                <a href="#reach-us">Contact Us</a>
            </div>
        </div>
        <div class="overlay"></div>

    </nav>

    <section class="hero_section">

        <div class="hero_section1">
            <h2 class="fade_in">DESIGNED <br> TO DAZZLE, <br> BUILT TO LAST</h2>
            <p>Persol gives you a vast collection of frames and lenses, <br>combining a bold design with everlasting quality.</p>
            <a href="#shop-all">SHOP ALL</a>
        </div> 

        <div class="hero_section2">
            <img src="./images/black_man_with_glasses-removebg-preview.png" alt="">
        </div>



        

    </section>
    
    <section class="ease_of_use" id="shop-all">

        <div>
            <img src="./images/frame 1.jpg" alt="">
            <a href="#" data-page="frames">Frames</a>
        </div>

        <div>
            <img src="./images/lenses 1.jpg" alt="">
            <a href="#" data-page="lenses">Lenses</a>
        </div>

        <div class="brands-container">
            <img src="./images/brands.jpg" alt="">
            <a href="#" class="brands-link">Brands</a>

            <div class="dropdown-menu">
                <a href="#" class="drop-item" data-page="rayban">RAY-BAN</a>
                <a href="#" class="drop-item" data-page="gucci">GUCCI</a>
                <a href="#" class="drop-item" data-page="coach">COACH</a>
            </div>


        </div>

    </section>

    <section id="goods">
      


    </section>
    <div id="comparison-section" style="display:none;">
        <h2>Comparison Table</h2>
        <table id="comparison-table" border="1">
            <thead>
                <tr>
                    <th>Feature</th>
                    <th id="product-1"></th>
                    <th id="product-2"></th>
                    <th id="product-3"></th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Price</td>
                    <td id="price-1"></td>
                    <td id="price-2"></td>
                    <td id="price-3"></td>
                </tr>
                <tr>
                    <td>Product Material</td>
                    <td id="material-1"></td>
                    <td id="material-2"></td>
                    <td id="material-3"></td>
                </tr>
                <tr>
                    <td>Design Details</td>
                    <td id="lens-1"></td>
                    <td id="lens-2"></td>
                    <td id="lens-3"></td>
                </tr>
            </tbody>
        </table>
        <button id="clear-comparison">Clear Comparison</button>
    </div>


    <section class="news_letter">
        <div>
            <p>SUBSCRIBE TO OUR <BR> NEWS LETTER <BR> FOR THE LATEST STYLES <BR> AND EXCLUSIVE OFFERS</p>
        </div>

        <div class="news_letter_form">
            <form id="exampleForm" onsubmit="return validateForm()">
                <input type="email" id="email" name="email" required placeholder="Enter your email">
                
                <div class="checkbox-container">
                    <input type="checkbox" id="agree" name="agree" required>
                    <label for="agree">I agree to the terms and conditions</label>
                </div>
                
                <button type="submit">Submit</button>
            </form>


        </div>
        
    </section>


    <section class="contact_us" id="reach-us">
        <div class="contact1">
            <p>CONTACT US</p>
            <p>Follow or reach out to us  on <br> our socials or  send us an <br> e-mail</p>
            <a href="https://www.linkedin.com/login"><i class="lni lni-facebook"></i></a>
            <a href="https://web.facebook.com/Persol?_rdc=1&_rdr"><i class="lni lni-linkedin"></i></a>
            <a href="https://www.instagram.com/persol/"><i class="lni lni-instagram"></i></a>
            <div>
                <a href="mailto:example@example.com?subject=Hello&body=I%20would%20like%20to%20contact%20you." class="email-button">
                Send us a mail
                </a>
            </div>
        </div>

        <div class="contact2">
            <p>Persol Lens & Frame Co.<br>256 N Rodeo Dr,<br>Beverly Hills, CA 90210,<br>United States</p>
        </div>

        <div class="contact3">
            <div class="footer_logo">
                <div> <span>PERSOL</span></div>
                 <img src="./images/icon_logo-removebg-preview.png" alt="">
             </div>
        </div>

        
        
    </section>
    <div id="map" style="width:100%;height:400px;margin-bottom: 50px; "></div>

    <section class="footer" >
        <div class="legal_area">
            <a href="https://www.persol.com/international/privacy-policy">Privacy Policy</a>
            <a href="https://www.persol.com/international/privacy-policy#ct_q4">Terms of use</a>
            <a href="https://www.persol.com/international/privacy-policy#ct_q4">Cookies Policy</a>
        </div>
    </section>
    


    <div class="ticker-container">
        <div class="ticker" id="ticker"><span>Fetching location and time...</span></div>
    </div>
    <script src="./script.js"></script>
    
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>
    <script>
        // Fetch visitor count from the API
        console.log('Making API request');
        fetch('http://localhost:3000/api/visitor-count')
          .then(response => response.json())
          .then(data => {
            document.getElementById('count').textContent = data.count;
          })
          .catch(error => {
            console.error('Error fetching visitor count:', error);
            document.getElementById('count').textContent = 'Fetching';
          });



          var map;

function initMap() {
    map = L.map('map').setView([34.0696, -118.4053], 13); // Default location
    L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        maxZoom: 19,
        attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    }).addTo(map);

    // Geocode the address to lat/lng using Nominatim API
    geocodeAddress('256 N Rodeo Dr, Beverly Hills, CA 90210, United States');
}

function geocodeAddress(address) {
    // Nominatim API request
    var url = 'https://nominatim.openstreetmap.org/search?format=json&q=' + encodeURIComponent(address);

    fetch(url)
        .then(response => response.json())
        .then(data => {
            if (data && data[0]) {
                var latLng = [data[0].lat, data[0].lon];
                // Update map view to the geocoded location
                map.setView(latLng, 13);

                // Add a marker at the location
                L.marker(latLng).addTo(map)
                    .bindPopup('<b>Company Address</b><br>' + address)
                    .openPopup();
            } else {
                alert('Address not found');
            }
        })
        .catch(error => alert('Error geocoding address: ' + error));
}

// Initialize the map
initMap();

         
      </script>
</body>
</html>